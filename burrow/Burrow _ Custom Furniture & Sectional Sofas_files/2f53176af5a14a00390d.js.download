(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3703],{eJ6B:(e,t,n)=>{"use strict";n.d(t,{Mi:()=>L,ZP:()=>I});n("SuFq"),n("tkto"),n("pNMO"),n("5DmW"),n("FZtP"),n("27RR");var r=n("Vadf"),o=n("BkpH"),i=n("k6Di"),a=n("79Ja"),s=n("Lr5L"),c=n("5hh5"),l=n("UHbJ"),u=n("udpn"),d=n("zThL"),p=(n("07d7"),n("ToJy"),n("TeQF"),n("T63A"),n("q1tI")),f=n("TSYQ"),h=n.n(f),v=n("qns6"),m=n("42op"),y=n("Xchd"),g=n("0Xqd"),k=n("ZXcA"),b=n("fMrl"),w=n("fLzE"),E=n("Ndxo"),Z=n("lFKM"),C=n.n(Z),P=n("DzJC"),M=n.n(P),O=n("TRpf"),R=n("RQpT"),N=["windowWidth","breakpoints"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}function T(e){var t=e.renderArrow,n=e.side,r=e.style,o=e.onClick,i=h()("slider__arrow","slider__arrow--".concat(n)),a=function(e){e.preventDefault(),o&&o()};return t?t(n,i,a):p.createElement("div",{className:i,onClick:a},p.createElement("i",{className:h()("icon","icon-arrow-".concat(n)),style:r}))}v.Z.use([m.Z,y.Z,g.Z,k.Z,b.Z]);var D=function(e){(0,c.Z)(n,e);var t=S(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,d.Z)((0,s.Z)(r),"state",{slideChanged:!1,index:0,isBeginning:!0,isEnd:!1}),(0,d.Z)((0,s.Z)(r),"initialIndex",0),r.paginationRef=(0,p.createRef)(),r.handleSwiper=r.handleSwiper.bind((0,s.Z)(r)),r.handleChange=r.handleChange.bind((0,s.Z)(r)),r.handleResize=M()(r.handleResize.bind((0,s.Z)(r)),300),r.slideToIndex=r.slideToIndex.bind((0,s.Z)(r)),r.slideNext=r.slideNext.bind((0,s.Z)(r)),r.slidePrev=r.slidePrev.bind((0,s.Z)(r)),r.handleNextClick=r.slideNext.bind((0,s.Z)(r)),r.handlePrevClick=r.slidePrev.bind((0,s.Z)(r)),r.getBreakpointsProps=r.getBreakpointsProps.bind((0,s.Z)(r)),r.getIsLoop=r.getIsLoop.bind((0,s.Z)(r)),r}return(0,a.Z)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.onReInit,r=t.windowWidth,o=e.windowWidth;n&&n(),r!==o&&this.handleResize()}},{key:"handleSwiper",value:function(e){this.swiper=e,this.slideToIndex(this.initialIndex)}},{key:"handleChange",value:function(e){var t=this.props.onChange,n=this.state,r=n.index,o=n.slideChanged;this.setState({slideChanged:o||e.realIndex!==r,index:e.realIndex,isBeginning:e.isBeginning,isEnd:e.isEnd}),C()(null==e?void 0:e.realIndex)&&t&&t(e.realIndex)}},{key:"handleResize",value:function(){this.slideToIndex(this.state.index)}},{key:"slideToIndex",value:function(e){this.swiper?this.getIsLoop()?this.swiper.slideToLoop(e):this.swiper.slideTo(e):this.initialIndex=e}},{key:"slideNext",value:function(){this.swiper&&this.swiper.slideNext()}},{key:"slidePrev",value:function(){this.swiper&&this.swiper.slidePrev()}},{key:"getBreakpointsProps",value:function(){var e=this.props,t=e.windowWidth,n=e.breakpoints,i=(0,o.Z)(e,N);return n?Object.entries(n).filter((function(e){return(0,r.Z)(e,1)[0]<=t})).sort((function(e,t){var n=(0,r.Z)(e,1)[0],o=void 0===n?0:n,i=(0,r.Z)(t,1)[0];return+o-+(void 0===i?0:i)})).reduce((function(e,t){var n=(0,r.Z)(t,2)[1];return A(A({},e),n)}),i):this.props}},{key:"getIsLoop",value:function(){var e=this.props.children,t=this.getBreakpointsProps(),n=t.slidesPerGroup;return!t.disableInfinite&&(null==e?void 0:e.length)>1&&1===n}},{key:"renderSlider",value:function(){var e,t,n=this.props.children,r=this.getBreakpointsProps(),o=r.slidesPerView,i=r.slidesPerGroup,a=r.fade,s=r.autoplay,c=r.autoplayDelay,l=r.speed,u=r.pauseOnHover,d=r.allowTouchMove,f=r.lazyLoad,h={clickable:!0,el:this.paginationRef.current},v="slide";a&&(v="fade",e={crossFade:!0}),s&&(t={delay:c,disableOnInteraction:u});var m=this.getIsLoop();return p.createElement(w.t,{pagination:h,effect:v,fadeEffect:e,loop:m,loopedSlides:m?o:0,loopPreventsSlide:!1,slidesPerView:o,slidesPerGroup:i,autoplay:t,speed:l,onSwiper:this.handleSwiper,onActiveIndexChange:this.handleChange,allowTouchMove:d,lazy:f,threshold:10},n)}},{key:"renderArrows",value:function(){var e=this.props.children,t=this.getBreakpointsProps(),n=t.renderArrow,r=t.arrows,o=t.navStyles,i=this.state,a=i.slideChanged,s=i.isBeginning,c=i.isEnd,l=this.getIsLoop();return p.createElement("div",{className:"slider__arrows-container"},r&&(null==e?void 0:e.length)>1&&p.createElement(p.Fragment,null,(l?a:!s)&&p.createElement(T,{renderArrow:n,side:"left",style:o,onClick:this.handlePrevClick}),(!!l||!c)&&p.createElement(T,{renderArrow:n,side:"right",style:o,onClick:this.handleNextClick})))}},{key:"renderPagination",value:function(){var e=this.getBreakpointsProps().pagination;return p.createElement("div",{ref:this.paginationRef,className:h()("slider__pagination",{"slider__pagination--visible":e})})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.theme,r="slider--theme-".concat(n||"dark");return p.createElement("div",{className:h()("slider",t,r)},this.renderSlider(),this.renderArrows(),this.renderPagination())}}]),n}(p.PureComponent);D.defaultProps={theme:"dark",pagination:!0,arrows:!0,slidesPerView:1,slidesPerGroup:1,fade:!1,autoplay:!1,autoplayDelay:2500,speed:300,pauseOnHover:!1,disableInfinite:!1,allowTouchMove:!0,breakpoints:null,navStyles:void 0,lazyLoad:!1};const I=(0,O.$j)((function(e){return{windowWidth:(0,R.fM)(e)}}),null,null,{forwardRef:!0})(D);var L=E.o},"+I0Y":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Video:()=>g,default:()=>k});n("SuFq");var r=n("37Uq"),o=n("k6Di"),i=n("79Ja"),a=n("Lr5L"),s=n("5hh5"),c=n("UHbJ"),l=n("udpn"),u=(n("ToJy"),n("ma9I"),n("2B1R"),n("TeQF"),n("07d7"),n("oVuX"),n("fbCW"),n("TSYQ")),d=n.n(u),p=n("q1tI"),f=n("HMs9"),h=n("TRpf"),v=n("RQpT"),m=(n("OWMA"),n("McsB"));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var g=function(e){(0,s.Z)(n,e);var t=y(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).state={paused:!1,muted:!0,sources:r.getSources(),videoWidth:0,videoHeight:0},r.autoPlay=e.autoPlay,r.videoElementClassName=e.className,r.videoContainerRef=null,r.handleMediaPlay=r.handleMediaPlay.bind((0,a.Z)(r)),r.handleMediaClick=r.handleMediaClick.bind((0,a.Z)(r)),r.getVideoElement=r.getVideoElement.bind((0,a.Z)(r)),r.getSources=r.getSources.bind((0,a.Z)(r)),r.switchPlay=r.switchPlay.bind((0,a.Z)(r)),r.switchMute=r.switchMute.bind((0,a.Z)(r)),r.getSourcesHTML=r.getSourcesHTML.bind((0,a.Z)(r)),r.getVideoElementHTML=r.getVideoElementHTML.bind((0,a.Z)(r)),r.onLoadedMetaData=r.onLoadedMetaData.bind((0,a.Z)(r)),r.onRefChange=r.onRefChange.bind((0,a.Z)(r)),r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this.getVideoElement();e&&(e.addEventListener("play",this.handleMediaPlay),e.addEventListener("click",this.handleMediaClick))}},{key:"componentDidUpdate",value:function(e){this.props.asset!==e.asset&&this.setState({sources:this.getSources()})}},{key:"componentWillUnmount",value:function(){var e=this.getVideoElement();e&&(e.removeEventListener("play",this.handleMediaPlay),e.removeEventListener("click",this.handleMediaClick),e.removeEventListener("loadedmetadata",this.onLoadedMetaData))}},{key:"onLoadedMetaData",value:function(e){var t=e.srcElement,n=t.videoWidth,r=t.videoHeight;this.setState({videoWidth:n,videoHeight:r})}},{key:"onRefChange",value:function(e){var t,n;this.videoContainerRef=e;var r=null===(t=this.videoContainerRef)||void 0===t||null===(n=t.children)||void 0===n?void 0:n[0];r&&r.addEventListener("loadedmetadata",this.onLoadedMetaData)}},{key:"handleMediaPlay",value:function(){var e=this.props.onMediaPlay;e&&e()}},{key:"handleMediaClick",value:function(){var e=this.props.onMediaClick;e&&e()}},{key:"getVideoElement",value:function(){var e=this.videoContainerRef&&this.videoContainerRef.current;return e&&e.querySelector("video")}},{key:"getSources",value:function(){var e=this.props.asset;if(!e)return[];var t=e.url,o=e.assetSources,i=void 0===o?[]:o,a=e.mimeType;try{return[].concat((0,r.Z)(i.map(n.fixSourceType)),[{source:t,type:a,order:i.length+1}]).sort((function(e,t){return e.order-t.order})).sort((function(e){return e.maxWidth}))}catch(e){return[{source:t,type:a,order:1}]}}},{key:"switchPlay",value:function(e){var t=this;e.preventDefault();var n=this.state.paused;this.setState({paused:!n},(function(){var e=t.getVideoElement();n?e.play():e.pause()}))}},{key:"switchMute",value:function(e){var t=this;e.preventDefault();var n=this.state.muted;this.setState({muted:!n},(function(){var e=t.getVideoElement();e&&(e.muted=!n)}))}},{key:"getSourcesHTML",value:function(e){var t=this.props.type,n=e.filter((function(e){var n=e.maxWidth,r=e.type;return!n&&r!==t}));return n&&n.map((function(e){var t=e.source,n=e.type;return'<source type="'.concat(n,'" src="').concat(t,'" />')})).join("")}},{key:"getVideoElementHTML",value:function(){var e=this.props,t=e.src,n=e.type,r=e.asset,o=(r=void 0===r?{}:r).url,i=e.windowWidth,a=e.autoPlay,s=e.muted,c=e.preload,l=this.state.sources,u=l.find((function(e){var t=e.maxWidth;return t&&t>i}));return'\n      <video\n        class="'.concat(d()(this.videoElementClassName),'"\n        loop\n        playsinline\n        ').concat(a?"autoplay":"","\n        ").concat(s?"muted":"",'\n        preload="').concat(c,'"\n      >\n        ').concat(this.getSourcesHTML(l),'\n        <source type="').concat(n,'" src="').concat(u?u.source:t||o,'" />\n      </video>\n    ')}},{key:"render",value:function(){var e=this.props,t=e.containerClassName,n=e.controls,r=e.lazy,o=e.autoPaddingBottom,i=this.state,a=i.paused,s=i.muted,c=i.videoWidth,l=i.videoHeight,u=p.createElement("div",{className:d()("video-component",t,{"video-component--with-controls":n}),style:o?{paddingBottom:(0,m.Fy)(c,l)}:void 0},p.createElement("div",{className:"video-component__media-container",ref:this.onRefChange,dangerouslySetInnerHTML:{__html:this.getVideoElementHTML()}}),n&&p.createElement("div",{className:"video-component__controls"},p.createElement("i",{onClick:this.switchPlay,className:"icon icon-".concat(a?"play":"pause")}),p.createElement("p",{className:"caption",onClick:this.switchMute},s?"UNMUTE":"MUTE")));return r?p.createElement(f.ZP,null,u):u}}],[{key:"fixSourceType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={mp4:"video/mp4",hls:"application/vnd.apple.mpegURL"};return e.type=t[e.type.toLowerCase()]||e.type,e}}]),n}(p.Component);g.defaultProps={type:"video/mp4",autoPlay:!0,muted:!0,preload:"auto",lazy:!0};const k=(0,h.$j)((function(e){return{windowWidth:(0,v.fM)(e)}}),{})(g)},G0kc:(e,t,n)=>{"use strict";n.d(t,{X:()=>f,Z:()=>h});n("07d7"),n("SuFq");var r,o=n("k6Di"),i=n("79Ja"),a=n("Lr5L"),s=n("5hh5"),c=n("UHbJ"),l=n("udpn"),u=(n("sMBO"),n("ma9I"),n("q1tI")),d=n("cko8");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var f=function(e){(0,s.Z)(n,e);var t=p(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).onChange=r.onChange.bind((0,a.Z)(r)),r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.props.checked&&this.props.setValue(this.props.checked)}},{key:"onChange",value:function(e){var t=e.currentTarget.checked;this.props.setValue(t),this.props.onChange&&this.props.onChange(t)}},{key:"render",value:function(){var e=this.props,t=e.showRequired,n=e.showError,o=e.errorMessage,i=e.value,a=void 0!==i&&i,s=e.name,c=e.extraClass,l=e.id,d=e.label,p=e.withinAnExternalLabel,f=e.disabled,h=null;t?h="required":n&&(h="error");var v=p?"div":"label";return u.createElement("div",{className:"".concat(h||""," checkbox form-fancy ").concat(a?"checked":"not-checked")},u.createElement(v,null,u.createElement("input",{type:"checkbox",name:s,onChange:this.onChange,className:c,checked:a,"data-checked":a,id:l,disabled:f}),r||(r=u.createElement("span",{className:"checkbox-icon-wrapper"},u.createElement("svg",{viewBox:"0 0 100 100",version:"1.1"},u.createElement("path",{className:"st0",d:"M42.4,86.2c-0.9,0-1.8-0.4-2.5-1L18.4,63.6c-1.4-1.4-1.4-3.6,0-4.9c1.4-1.4,3.6-1.4,5,0L41.6,77l34-61 c0.9-1.7,3.1-2.3,4.8-1.4c1.7,0.9,2.3,3.1,1.4,4.8L45.4,84.4c-0.5,1-1.5,1.6-2.6,1.8C42.7,86.2,42.6,86.2,42.4,86.2z"})))),o||d))}}]),n}(u.Component);const h=(0,d.pd)(f)},ryw9:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Index:()=>bt,default:()=>wt});n("07d7"),n("SuFq");var r,o=n("k6Di"),i=n("79Ja"),a=n("5hh5"),s=n("UHbJ"),c=n("udpn"),l=n("q1tI"),u=n("g4Oe"),d=n("0HBf"),p=n("vGLk"),f=n("gnOM"),h=n("v1sI"),v=n("skkr"),m=n("Vadf"),y=n("Lr5L"),g=n("zThL"),k=(n("ma9I"),n("GKVU"),n("yq1k"),n("JTJg"),n("c/0T")),b=n("TRpf"),w=n("55Ip"),E=n("TSYQ"),Z=n.n(E),C=n("ZYBK"),P=n("N/f5"),M=n("L4YY"),O=n("RQpT"),R=n("LKTH"),N=n("4qXz"),x=n("qV4x"),A=n("sGs7"),S=n("nA9l"),T=n("fNLf"),D=(n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("ToJy"),n("sMBO"),n("cko8")),I=n("9Gsi"),L=n("G0kc"),B=n("JvtO"),_=n("rzPc");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var F=function(e){(0,a.Z)(n,e);var t=V(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).state=W({emailCaptured:!1,phoneSelection:!1,confirmed:!1,subscribe:!1,canSubmit:!1},r.getModals()),r.enableButton=r.enableButton.bind((0,y.Z)(r)),r.disableButton=r.disableButton.bind((0,y.Z)(r)),r.renderEmailCapture=r.renderEmailCapture.bind((0,y.Z)(r)),r.renderConfirmation=r.renderConfirmation.bind((0,y.Z)(r)),r.renderTextCapture=r.renderTextCapture.bind((0,y.Z)(r)),r.triggerSubscribe=r.triggerSubscribe.bind((0,y.Z)(r)),r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.setState(W({},this.getModals()))}},{key:"getModals",value:function(){var e=this.props.modals.sort((function(e,t){return e.order-t.order}));return{emailModal:e[0]||{},textModal:e[1]||{},confirmModal:e[2]||{}}}},{key:"componentDidUpdate",value:function(e){this.props.productDetails.sku!==e.productDetails.sku&&this.setState(W({emailCaptured:!1,phoneSelection:!1,confirmed:!1},this.getModals()))}},{key:"enableButton",value:function(){this.setState({canSubmit:!0})}},{key:"disableButton",value:function(){this.setState({canSubmit:!1})}},{key:"renderConfirmation",value:function(){var e=this.props.onClose,t=this.state.confirmModal,n=void 0===t?{}:t;return l.createElement(l.Fragment,null,l.createElement("div",{className:"couch-image"},n.assets&&n.assets[0]&&l.createElement(I.Z,{image:n.assets[0]})),l.createElement("h2",null,n.header),l.createElement("a",{onClick:e},n.buttonCopy&&n.buttonCopy[0]))}},{key:"renderTextCapture",value:function(){var e=this,t=this.props.productDetails,n=t.name,r=t.sku,o=this.state.textModal,i=void 0===o?{}:o;return l.createElement(l.Fragment,null,l.createElement("div",{className:"text-image"},i.assets&&i.assets[0]&&l.createElement(I.Z,{image:i.assets[0]})),l.createElement("h2",null,i.header),l.createElement("button",{className:"btn sms",onClick:function(){window.open("sms:2246287769?&body=Hi Burrow! Let me know when the ".concat(n," (").concat(r,") is back in stock.")),e.setState({phoneSelection:!0})}},i.buttonCopy&&i.buttonCopy[0]),l.createElement("button",{className:"btn decline",onClick:function(){return e.setState({phoneSelection:!0})}},i.buttonCopy&&i.buttonCopy[1]),l.createElement("p",{className:"footnote"},i.footnote))}},{key:"triggerSubscribe",value:function(e){var t=e.email,n=e.subscribe,r=this.props.productDetails,o=r.sku,i=r.category,a=r.image,s=r.name,c=r.url,l=r.id,u=r.pricing.price.raw;P.Z.enqueue({method:"track",params:{event:"Stock Notifications",properties:{sku:o,email:t,oos_mktgsubscribe:!!n,image_url:a,value:u,action:"Subscribed",label:"Subscribed to Stock Notifications",url:c,category:i,name:s,product_id:l}},location:P.Z.getLocation()}),this.setState({emailCaptured:!0})}},{key:"renderEmailCapture",value:function(){var e=this.state.emailModal,t=void 0===e?{}:e;return l.createElement(l.Fragment,null,l.createElement("h2",null,t.header),l.createElement("p",{className:"copy"},t.copy),l.createElement("div",{className:"form-fancy"},l.createElement("fieldset",null,l.createElement(D.ZP,{onValidSubmit:this.triggerSubscribe,onValid:this.enableButton,onInvalid:this.disableButton},l.createElement("div",{className:"form-fancy-wrapper"},l.createElement(B.Z,{label:"Email*",autocapitalize:"none",value:this.state.email,name:"email",validations:"isEmail",validationError:"Invalid Email",required:!0})),l.createElement("div",{className:"checkbox-wrapper"},r||(r=l.createElement(L.Z,{id:"restock",name:"subscribe"})),l.createElement("span",{className:"small-text"},t.buttonCopy&&t.buttonCopy[0])),l.createElement("button",{className:"btn",disabled:!this.state.canSubmit,type:"submit"},t.buttonCopy&&t.buttonCopy[1])))),l.createElement("p",{className:"footnote"},t.footnote))}},{key:"render",value:function(){var e=this.props.mobile;return this.state.emailCaptured?!this.state.phoneSelection&&e?this.renderTextCapture.call(this):this.renderConfirmation.call(this):this.renderEmailCapture.call(this)}}]),n}(l.Component);F.defaultProps={modals:_.kL};var H,z,q=n("ilHu");function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var Q=function(e){(0,a.Z)(n,e);var t=U(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).handleAddToCartClick=A.C.bind((0,y.Z)(r)),r.renderRestockButton=r.renderRestockButton.bind((0,y.Z)(r)),r.renderRestockWizard=r.renderRestockWizard.bind((0,y.Z)(r)),r.renderRestock=r.renderRestock.bind((0,y.Z)(r)),r}return(0,i.Z)(n,[{key:"renderFullSizeATC",value:function(e){var t=this.props,n=t.showQuantitySelector,r=t.soldOut,o=t.selectedQty,i=t.setSelectedQtyAction;return l.createElement("div",{className:"pdp-add"},n&&l.createElement(q.Z,{selectedQty:o,setSelectedQtyAction:i}),l.createElement("div",{className:Z()("pdp-add-button btn btn-yellow",{disabled:e}),role:"button","aria-label":"Add to cart",disabled:e,onClick:this.handleAddToCartClick},r?H||(H=l.createElement("span",null,"Out of stock")):z||(z=l.createElement("span",null,"Add To Cart"))))}},{key:"renderRestockWizard",value:function(e){var t=this.props,n=t.productDetails,r=(0,m.Z)(t.restockButton.components,1)[0].modals,o=t.windowWidth;return l.createElement(F,{productDetails:n,mobile:o<920,modals:r,onClose:e})}},{key:"renderRestockButton",value:function(e){var t=this.props.restockButton,n=t.text,r=t.html;return l.createElement("div",{className:"pdp-add-button btn btn-charcoal",role:"button","aria-label":n,onClick:e},r?l.createElement("span",{dangerouslySetInnerHTML:{__html:r}}):l.createElement("span",null,n))}},{key:"renderRestock",value:function(){var e=(0,m.Z)(this.props.restockButton.components,1)[0].backgroundColor;return l.createElement("div",{className:"pdp-add"},l.createElement(T.Z,{teaserRenderer:this.renderRestockButton,componentToRender:this.renderRestockWizard,containerClassName:"restock-notfications",backgroundColor:e}))}},{key:"render",value:function(){var e,t=this.props,n=t.isProductDataPending,r=t.isCartDataPending,o=t.checkedInventory,i=t.soldOut,a=t.restockButton,s=t.isOnline,c=t.channelAvailability,l=t.productDetails,u=null==c||null===(e=c[null==l?void 0:l.sku])||void 0===e?void 0:e.channelAvailability,d=n||r||!o||i||!s||!u;return a?this.renderRestock():this.renderFullSizeATC(d)}}]),n}(l.Component);Q.defaultProps={options:[],modifiers:[],addOnItems:[]};var K={addToCartAction:S.Xq,setSelectedQtyAction:M.hd};const G=(0,x.qC)(N.EN,(0,b.$j)((function(e){return{productDetails:(0,h.KL)(e),currentPrice:(0,h.e9)(e),isProductDataPending:(0,h.xx)(e),isCartDataPending:(0,v.Vu)(e),userDetails:(0,f.M_)(e),selectedModifiersList:(0,h.nN)(e),selectedAddons:(0,h.xg)(e),selectedQty:(0,h.uJ)(e),checkedInventory:(0,h.R5)(e),soldOut:(0,h.eN)(e),restockButton:(0,h.VR)(e),isOnline:(0,O.Kc)(e),windowWidth:(0,O.fM)(e),channelAvailability:(0,h.I6)(e)}}),K))(Q);n("8AyJ"),n("qePV"),n("x0AG"),n("2B1R");var J=n("aAZC"),X=n.n(J),Y=n("eJ6B"),$=n("+I0Y"),ee=n("GkcP");n("i6QF");var te=!1;if("undefined"!=typeof window){var ne={get passive(){te=!0}};window.addEventListener("testPassive",null,ne),window.removeEventListener("testPassive",null,ne)}var re="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),oe=[],ie=!1,ae=-1,se=void 0,ce=void 0,le=function(e){return oe.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},ue=function(e){var t=e||window.event;return!!le(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},de=function(){void 0!==ce&&(document.body.style.paddingRight=ce,ce=void 0),void 0!==se&&(document.body.style.overflow=se,se=void 0)},pe=function(e,t){if(e){if(!oe.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};oe=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(oe),[n]),re?(e.ontouchstart=function(e){1===e.targetTouches.length&&(ae=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-ae;!le(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?ue(e):e.stopPropagation())}(t,e)},ie||(document.addEventListener("touchmove",ue,te?{passive:!1}:void 0),ie=!0)):function(e){if(void 0===ce){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;t&&n>0&&(ce=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}void 0===se&&(se=document.body.style.overflow,document.body.style.overflow="hidden")}(t)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},fe=function(){re?(oe.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),ie&&(document.removeEventListener("touchmove",ue,te?{passive:!1}:void 0),ie=!1),ae=-1):de(),oe=[]};n("OWMA");function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}const ve=function(e){(0,a.Z)(n,e);var t=he(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.changeImage,n=e.currentImageIdx,r=e.handleClose,o=e.images;return l.createElement(l.Fragment,null,l.createElement("i",{role:"button","aria-label":"Close",className:"icon icon-close preview-images__icon preview-images__icon--close",onClick:r}),o.length>1?l.createElement(l.Fragment,null,l.createElement("i",{role:"button","aria-label":"Prev",className:"icon icon-arrow-left preview-images__icon preview-images__icon--prev",onClick:function(e){return t(e,"prev")}}),l.createElement("i",{role:"button","aria-label":"Next",className:"icon icon-arrow-right preview-images__icon preview-images__icon--next",onClick:function(e){return t(e,"next")}}),l.createElement("div",{className:"preview-images__dots"},o.map((function(e,r){return l.createElement("div",{key:e.url,role:"button",onClick:function(e){return t(e,"next",r)},className:"preview-images__dot-wrapper"},l.createElement("div",{className:Z()("preview-images__dot",{"preview-images__dot--active":r===n})}))})))):null)}}]),n}(l.Component);var me;function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var be,we,Ee=function(e){(0,a.Z)(n,e);var t=ke(n);function n(e){var r;(0,o.Z)(this,n),r=t.call(this,e);var i=e.images.findIndex((function(t){return t.url===e.active.url}));return r.state={positionX:0,positionY:0,isLoading:!0,currentImageIdx:i},r.handleClose=r.handleClose.bind((0,y.Z)(r)),r.handleMediaClick=r.handleMediaClick.bind((0,y.Z)(r)),r.handleImageLoaded=r.handleImageLoaded.bind((0,y.Z)(r)),r.handleKeyDown=r.handleKeyDown.bind((0,y.Z)(r)),r.getMouseCoords=r.getMouseCoords.bind((0,y.Z)(r)),r.getPreviewPosition=r.getPreviewPosition.bind((0,y.Z)(r)),r.changeImage=r.changeImage.bind((0,y.Z)(r)),r.state=ge(ge({},r.state),r.getPreviewPosition()),r.imageWrapperRef=l.createRef(),r.imageRef=l.createRef(),r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.imageWrapperRef.current&&pe(this.imageWrapperRef.current)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),fe()}},{key:"handleClose",value:function(){fe(),this.props.onClose(null)}},{key:"handleMediaClick",value:function(){this.props.isTablet||this.handleClose()}},{key:"handleImageLoaded",value:function(){this.setState({isLoading:!1})}},{key:"handleKeyDown",value:function(e){switch(e.key){case"ArrowLeft":return this.changeImage(e,"prev");case"ArrowRight":return this.changeImage(e,"next");default:return null}}},{key:"getMouseCoords",value:function(e){e.preventDefault(),this.state.isLoading||this.props.isTablet||this.setState(this.getPreviewPosition(e.clientX,e.clientY))}},{key:"getPreviewPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=window.innerHeight,o=this.props,i=o.windowWidth,a=o.images,s=this.state.currentImageIdx,c=n||s,l=e,u=t;e||(l=i/2),t||(u=r/2);var d=l/i,p=u/r,f=a[c].width-i,h=a[c].height-r;a[c].width<i&&(f=0),a[c].height<r&&(h=0);var v=d*f,m=p*h;return{positionX:v,positionY:m}}},{key:"changeImage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.props,o=r.images,i=r.onImageChange,a=r.isTablet,s=this.state.currentImageIdx,c=o.length,l=0;return n!==s&&(Number.isInteger(n)?l=n:("next"===t&&(l=s+1)>=c&&(l=0),"prev"===t&&(l=s-1)<0&&(l=c-1)),this.setState({currentImageIdx:l,isLoading:!0}),a?this.setState(this.getPreviewPosition(null,null,l)):this.setState(this.getPreviewPosition(e.clientX,e.clientY,l)),i&&i(o[l]),!0)}},{key:"render",value:function(){var e=this.props,t=e.isTablet,n=e.images,r=this.state,o=r.positionX,i=r.positionY,a=r.isLoading,s=r.currentImageIdx,c={transform:"translate(-".concat(o,"px, -").concat(i,"px)")};t&&(c={transform:"translate(0, 0)"},this.imageWrapperRef.current&&this.imageWrapperRef.current.scrollTo(o,i));var d={currentImageIdx:s,changeImage:this.changeImage,handleClose:this.handleClose,images:n};return l.createElement("section",{className:Z()("preview-images",{"preview-images--loaded":!a}),onMouseMove:this.getMouseCoords},a&&(me||(me=l.createElement(u.Z,null))),"Video"===n[s].type?l.createElement(l.Fragment,null,l.createElement($.default,{asset:n[s],containerClassName:"preview-images__video",onMediaPlay:this.handleImageLoaded,onMediaClick:this.handleMediaClick}),l.createElement(ve,d)):l.createElement("div",{className:"preview-images__wrapper",ref:this.imageWrapperRef},l.createElement("img",{alt:"",className:"preview-images__image",src:n[s].url,style:c,onLoad:this.handleImageLoaded,onClick:this.handleMediaClick,ref:this.imageRef}),l.createElement(ve,d)))}}]),n}(l.Component),Ze=n("eIan"),Ce=n("x5vH"),Pe=n("McsB");function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var Ne=function(e){(0,a.Z)(n,e);var t=Re(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).state={zoomedImage:null,currentSlideIndex:0,fbBrowser:!1},r.toggleTuftedImage=r.toggleTuftedImage.bind((0,y.Z)(r)),r.setZoomImage=r.setZoomImage.bind((0,y.Z)(r)),r.handleKeyDown=r.handleKeyDown.bind((0,y.Z)(r)),r.handleImageChange=r.handleImageChange.bind((0,y.Z)(r)),r.handleSlideChange=r.handleSlideChange.bind((0,y.Z)(r)),r.trackSlideChange=r.trackSlideChange.bind((0,y.Z)(r)),r.slideTo=r.slideTo.bind((0,y.Z)(r)),r.renderThumb=r.renderThumb.bind((0,y.Z)(r)),r.renderThumbs=r.renderThumbs.bind((0,y.Z)(r)),r.sliderRef=l.createRef(),r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),(0,Pe.oj)()&&this.setState({fbBrowser:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o,i,a=Array.isArray(this.props.gallery)&&this.props.gallery,s=e.gallery,c=a[this.state.currentSlideIndex],l=Array.isArray(this.props.selectedAddons)&&this.props.selectedAddons[0],u=(null===(t=this.props.selectedAddons)||void 0===t?void 0:t.length)!==(null===(n=e.selectedAddons)||void 0===n?void 0:n.length),d=(null==e||null===(r=e.lastModifierSelection)||void 0===r?void 0:r.value)!==(null===(o=this.props)||void 0===o||null===(i=o.lastModifierSelection)||void 0===i?void 0:i.value);a.length>1&&c&&this.updateGalleryIndex(this.props.lastModifierSelection,a,s,c,l,u,d)}},{key:"updateGalleryIndex",value:function(e,t,n,r,o,i,a){var s,c,l=null==o||null===(s=o.product)||void 0===s?void 0:s.sku.includes(e.value),u=e.index,d=void 0===u?0:u,p=e.value,f=r.images[0],h=t.every((function(e,t){var r,o,i,a;return(null===(r=e.images)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.fileName)===(null===(i=n[t].images)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.fileName)})),v=p&&(null===(c=f.fileName)||void 0===c?void 0:c.includes("-".concat(p)));(a||i&&l)&&Number.isFinite(d)?this.slideTo(d):h||v||this.slideTo(d)}},{key:"trackSlideChange",value:function(e,t){try{var n,r=this.props,o=r.productDetails,i=o.name,a=void 0===i?"":i,s=o.sku,c=void 0===s?"":s,l=r.userDetails.email,u=void 0===l?"":l,d=r.gallery,p=void 0===d?[]:d,f=p.length;n=e+1===t||e===f-1&&0===t?"Next":e-1===t||0===e&&t===f-1?"Previous":"Jump";var h=p[t];P.Z.enqueue({method:"carousel",params:{event:"PDP Carousel",item:{name:a,sku:c},action:n,email:u,position:t,typeOfAsset:"Asset"===h.type?"Image":h.type},location:P.Z.getLocation()})}catch(e){}return!0}},{key:"handleSlideChange",value:function(e){var t=this.state.currentSlideIndex;this.trackSlideChange(t,e),this.setState({currentSlideIndex:e})}},{key:"toggleTuftedImage",value:function(){this.setState({tufted:!this.state.tufted})}},{key:"setZoomImage",value:function(e){this.setState({zoomedImage:e})}},{key:"handleKeyDown",value:function(e){if(this.state.zoomedImage)return null;switch(e.key){case"ArrowLeft":return this.sliderRef.current.slidePrev();case"ArrowRight":return this.sliderRef.current.slideNext();default:return null}}},{key:"handleImageChange",value:function(e){var t=this.props.gallery.findIndex((function(t){return(t.images.length?t.images[0]:{}).url===e.url}));return this.slideTo(t)}},{key:"renderImage",value:function(e){var t=this,n=this.props,r=n.productDetails,o=n.activeProductName;return l.createElement(Ce.$,null,(function(n){return l.createElement(l.Fragment,null,l.createElement("i",{className:"icon icon-expand preview",onClick:function(){return t.setZoomImage(e)}}),l.createElement(I.Z,{image:e,outerWrapperClassName:e.height>e.width?"portrait":"",alt:(0,Ze.Pp)(r),maxWidth:n.windowWidth,role:"button","aria-label":"".concat(o," image")}))}))}},{key:"renderVideo",value:function(e,t){var n=this;return l.createElement("div",{className:"pdp-image-position",key:"video-".concat(t)},l.createElement("i",{className:"icon icon-expand preview",onClick:function(){return n.setZoomImage(e)}}),l.createElement("div",{className:"pdp-video-container"},l.createElement($.Video,{asset:e,className:"pdp-video"})))}},{key:"renderProductAsset",value:function(e,t){var n=(0,Ze.EV)(e,this.props.sku,this.props.productDetails.collection,this.props.galleryModifiers,this.props.selectedAddons,this.props.productModifiers,this.props.activeTableFinish,this.props.activeFurnitureType);switch(e.type){case"Asset":return this.renderImage(n);case"Video":return this.renderVideo(n,t);default:return null}}},{key:"renderProductAssets",value:function(){var e=this,t=this.props.hasSaleBadge;return this.props.gallery.map((function(n,r){return l.createElement(Y.Mi,{key:r},l.createElement("div",{className:"pdp-image-position swiper-lazy"},t&&0===r&&l.createElement("div",{className:"badge-container"},l.createElement(ee.Z,{callToAction:{badgeCopy:"SALE"}})),e.renderProductAsset(n,r)))}))}},{key:"slideTo",value:function(e){var t;null===(t=this.sliderRef.current)||void 0===t||t.slideToIndex(e)}},{key:"renderThumb",value:function(e,t,n){var r,o,i=this,a=!1;switch(e.type){case"Video":o=e.images.length&&e.images[1],a=!0;break;case"Asset":r="pdp__gallery-thumb asset",o=(0,Ze.EV)(e,this.props.sku,this.props.productDetails.collection,this.props.galleryModifiers,this.props.selectedAddons,this.props.productModifiers,this.props.activeTableFinish,this.props.activeFurnitureType)}return l.createElement("div",{key:e.handle||n,className:Z()("pdp__gallery-thumb",r,"pdp__gallery-thumb--".concat(X()(e.type)),{"pdp__gallery-thumb--active":t}),onClick:function(){i.slideTo(n)}},a&&(be||(be=l.createElement("span",{className:"pdp__gallery-thumb-overlay"}))),o&&l.createElement(I.Z,{maxWidth:80,image:o}))}},{key:"renderThumbs",value:function(){var e=this,t=this.state.currentSlideIndex;return l.createElement("div",{className:"pdp__gallery-thumbs"},this.props.gallery.map((function(n,r){return e.renderThumb(n,r===t,r)})))}},{key:"renderSlider",value:function(){var e=this;return l.createElement("div",{className:"pdp-images-carousel"},l.createElement(Y.ZP,{ref:this.sliderRef,pagination:!1,arrows:this.state.fbBrowser,infinite:!0,lazyLoad:!0,thumbs:!0,breakpoints:{920:{arrows:!0,allowTouchMove:!1}},onChange:function(t){return e.handleSlideChange(t)}},this.renderProductAssets()),this.renderThumbs())}},{key:"render",value:function(){var e=this.props,t=e.windowWidth,n=e.gallery,r=e.sku,o=e.productDetails,i=e.galleryModifiers,a=e.selectedAddons,s=e.isProductDataPending,c=e.activeTableFinish,d=e.activeFurnitureType,p=e.isTablet,f=e.productModifiers,h=this.state.zoomedImage,v=n.reduce((function(e,t){if("Asset"===t.type){var n=(0,Ze.EV)(t,r,o.collection,i,a,f,c,d);e.push(n)}else"Video"===t.type?e.push(Oe(Oe({},t.images[0]),{},{type:"Video"})):e.push(t);return e}),[]);return s?we||(we=l.createElement(u.Z,null)):l.createElement(l.Fragment,null,l.createElement("div",{className:"pdp-images-container"},this.renderSlider()),v&&!!v.length&&h&&l.createElement(Ee,{images:v,active:h,windowWidth:t,onClose:this.setZoomImage,isTablet:p,onImageChange:this.handleImageChange}))}}]),n}(l.Component);Ne.defaultProps={gallery:[]};const xe=(0,b.$j)((function(e){return{userDetails:(0,f.M_)(e),productDetails:(0,h.KL)(e),sku:(0,h.k5)(e),lastModifierSelection:(0,h.Ht)(e),selectedAddons:(0,h.xg)(e),seatType:(0,h.mX)(e),windowWidth:(0,O.fM)(e),gallery:(0,h.KF)(e),isProductDataPending:(0,h.xx)(e),activeType:(0,h.k)(e,"type"),activeColor:(0,h.k)(e,"color"),activeFurnitureType:(0,h.k)(e,"furnitureType"),galleryModifiers:(0,h.jG)(e),productModifiers:(0,h.Qp)(e),activeArm:(0,h.k)(e,"arms"),activeSeat:(0,h.k)(e,"size"),activeLegs:(0,h.k)(e,"legs"),activeLegStyle:(0,h.k)(e,"legStyle"),activeCushionColor:(0,h.k)(e,"cushionColor"),activeTableFinish:(0,h._$)(e),isTablet:(0,O.c9)(e)}}))(Ne);var Ae=n("kmkr"),Se=n("O5oe");n("mRH6");function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var De=function(e){(0,a.Z)(n,e);var t=Te(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).renderWizard=r.renderWizard.bind((0,y.Z)(r)),r}return(0,i.Z)(n,[{key:"renderWizard",value:function(){var e=this.props,t=e.modals,n=e.productDetails,r=e.mobile;return l.createElement(F,{modals:t,productDetails:n,mobile:r})}},{key:"render",value:function(){var e=this.props.link,t=e.text,n=e.color,r=e.components,o=e.richText,i=((null==r?void 0:r[0])||{}).backgroundColor,a=null==o?void 0:o.html;return l.createElement(T.Z,{componentToRender:this.renderWizard,backgroundColor:i,teaserColor:n,containerClassName:"restock-notfications",teaserCopy:a?l.createElement("span",{dangerouslySetInnerHTML:{__html:a}}):t})}}]),n}(l.Component);De.defaultProps={modals:_.kL};var Ie=n("W00B"),Le=n("+9dH"),Be=(n("4Brf"),n("T63A"),n("PkI6")),_e=n.n(Be),je=n("bt/X"),We=n.n(je),Ve=n("udNO"),Fe=(n("+2oP"),n("gdAF")),He=n("PbLM"),ze=(n("fbCW"),n("17x9")),qe=n.n(ze);function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}function Qe(e){var t=function(e){(0,a.Z)(n,e);var t=Ue(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"getActiveOption",value:function(){var e=this,t=this.props,n=t.productDetails.sku,r=t.modifier,o=r.activeStateProp,i=r.options,a=void 0===i?[]:i,s=r.onSelectFunction,c=t.selectedModifierOptions;return a.find((function(t){var r=t.value,i=t.selected;return o&&r===e.props[_e()(o)]||(null==c?void 0:c.find((function(e){return e.value===r})))||i||"setmaterial"===(null==s?void 0:s.toLowerCase())&&n.includes(r)}))}},{key:"shouldRender",value:function(){var e=this.props,t=e.selectedModifierOptions,n=e.modifier.requiredActiveModifierOptions;return null==n||!n.length||(null==n?void 0:n.every((function(e){return t.some((function(t){return t.value===e.value}))})))}},{key:"selectModifierOption",value:function(e){var t=this.props,n=t.modifier,r=t.toggleModifierOptionAction,o=t.withRedirect;r({modifier:n,option:e},void 0===o||o)}},{key:"render",value:function(){var e=this.props,t=e.fetchProductDetailsAction,r=e.modifier,o=r.className,i=r.title,a=r.showModifierValue,s=r.subTitle,u=(0,m.Z)(r.modals,1)[0],d=r.slug,p=this.getActiveOption();return this.shouldRender()&&l.createElement("div",{className:Z()("pdp-options",null==d?void 0:d.toLowerCase(),o)},l.createElement("div",{className:"pdp-options__header"},l.createElement("span",{className:"pdp-options__header-title"},i),a&&l.createElement("span",{className:"pdp-options__header-value"},null==p?void 0:p.description)),s&&l.createElement("div",{className:"pdp-options__description"},s),l.createElement("div",{className:Z()("pdp-options-wrapper",o)},(0,He.Z)((0,c.Z)(n.prototype),"render",this).call(this,p),u&&l.createElement("span",{className:"pdp-details-info"},l.createElement(T.Z,{teaserCopy:u.teaserCopy,teaserIcon:u.teaserIcon,salesTiers:u.salesTiers,popUpCopy:u.copy,fetchProductDetails:t,header:u.header,footnote:u.footnote,asset:u.assets&&u.assets[0],links:u.links}))))}}]),n}(e);return t.propTypes={modifier:qe().shape({className:qe().string,title:qe().string,showModifierValue:qe().bool,subTitle:qe().string,slug:qe().string,requiredActiveModifierOptions:qe().array,options:qe().arrayOf(qe().shape({value:qe().string,description:qe().string,active:qe().bool,modals:qe().array}))}),selectedModifierOptions:qe().array,fetchProductDetailsAction:qe().func,toggleModifierOptionAction:qe().func,withRedirect:qe().bool},t}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}const Ge=Qe(function(e){(0,a.Z)(n,e);var t=Ke(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(e){var t=this,r=this.props.modifier,o=r.className,i=r.options,a=void 0===i?[]:i,s=[a];return(null==o?void 0:o.includes("wrap"))&&(s=n.splitIconsIntoRows(a)),s.map((function(n,r){return l.createElement("div",{className:Z()("pdp-options-ul"),key:r},n.map((function(n){var r=n.value,o=n.description,i=n.asset,a=(0,Ze.fS)(e,r);return l.createElement("div",{role:"button",key:n.value,"aria-label":o,title:o,onClick:function(){return t.selectModifierOption(n)},className:Z()(r,"pdp-options-icon",{active:a})},l.createElement(Fe.Z,{asset:i}))})))}))}}],[{key:"splitIconsIntoRows",value:function(e){var t=Math.ceil(e.length/2);return[e.slice(0,t),e.slice(t)]}}]),n}(l.Component));function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}const Xe=Qe(function(e){(0,a.Z)(n,e);var t=Je(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(e){var t=this,n=this.props.modifier.options,r=void 0===n?[]:n;return l.createElement("div",{className:"pdp-options-ul pdp-options-ul--wrapped"},r.map((function(n){var r=n.description,o=n.value,i=n.colors,a=n.label,s=(null==i?void 0:i.length)>0?i[0].hex:"",c=(0,Ze.fS)(e,o);return l.createElement("div",{role:"button",key:n.value,"aria-label":r,title:r,onClick:function(){return t.selectModifierOption(n)},className:Z()(o,"pdp-options-button",{active:c,"pdp-options-button__left-aligned":s})},s&&l.createElement("span",{className:"pdp-options-button__color",style:{backgroundColor:s,color:s}},"i"),l.createElement("span",{className:"title"},a))})))}}]),n}(l.Component));var Ye=n("pked");function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}const et=Qe(function(e){(0,a.Z)(n,e);var t=$e(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(e){var t=this,n=this.props.modifier,r=n.slug,o=n.options,i=We()(o,"groupName");return Object.entries(i).map((function(n){var o=(0,m.Z)(n,2),i=o[0],a=o[1];return l.createElement("div",{key:i,className:"pdp-options-group"},i.length>0&&l.createElement("div",{className:"pdp-options-group-name"},i),l.createElement("div",{className:Z()("pdp-options-ul",null==r?void 0:r.toLowerCase())},a.map((function(n){var r=n.value,o=n.description,i=n.asset,a=n.colors,s=n.borderColor,c=(null==e?void 0:e.value)===r;return l.createElement(Ye.Z,{active:c,asset:i,backgroundColor:(null==a?void 0:a.length)>0?(0,Pe.ks)(a):void 0,borderColor:s?s.hex:void 0,description:o,hasBorder:!(null==s||!s.hex),onClick:function(){return t.selectModifierOption(n)},key:r,value:r})}))))}))}}]),n}(l.Component));function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var nt=function(e){(0,a.Z)(n,e);var t=tt(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"renderModal",value:function(e){var t=this.props.fetchProductDetailsAction;return e&&l.createElement(T.Z,{teaserCopy:e.teaserCopy,teaserIcon:e.teaserIcon,salesTiers:e.salesTiers,popUpCopy:e.copy,fetchProductDetails:t,header:e.header,footnote:e.footnote,asset:e.assets&&e.assets[0],links:e.links})}},{key:"renderCheckbox",value:function(e,t){var n=e.active,r=e.description,o=e.id,i=e.modals,a=e.priceAdjust,s=e.selected,c=e.value,u=this.props.disabled;return l.createElement("div",{className:"pdp-options-checkbox-wrapper",key:o},l.createElement("div",{className:Z()("pdp-options-checkbox",{active:n||s}),onClick:t},l.createElement("input",{"aria-label":r,className:"pdp-options-checkbox-input",defaultChecked:n,disabled:u,type:"checkbox",name:c}),l.createElement("span",{className:"pdp-options-checkbox-label"},r)," ",a&&l.createElement("span",{className:"pdp-options-checkbox-price"},"+ $",a)),i&&this.renderModal(i[0]))}},{key:"filterAddToCartOptions",value:function(){var e=this.props,t=e.productDetails.relatedProducts,n=void 0===t?[]:t,r=e.modifier.options,o=void 0===r?[]:r,i=e.modifier;return(0,Ze.ap)(i)?o.filter((function(e){var t=e.value.substring(0,e.value.lastIndexOf("_"));return n.some((function(n){return n.sku.includes(t||e.value)}))})):o}},{key:"render",value:function(){var e=this,t=this.props,n=t.modifier,r=t.modifier.slug,o=t.toggleModifierOptionAction,i=this.filterAddToCartOptions();return l.createElement("div",{className:Z()("pdp-options",r)},l.createElement("div",{className:"pdp-options-wrapper pdp-options-wrapper__column"},i.map((function(t){return e.renderCheckbox(t,o.bind(e,{modifier:n,option:t}))}))))}}]),n}(l.Component);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var it=function(e){(0,a.Z)(n,e);var t=ot(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).renderModal=r.renderModal.bind((0,y.Z)(r)),r.renderCheckbox=r.renderCheckbox.bind((0,y.Z)(r)),r.renderPickListModifier=r.renderPickListModifier.bind((0,y.Z)(r)),r.renderListModifier=r.renderListModifier.bind((0,y.Z)(r)),r.renderAddToCartModifier=r.renderAddToCartModifier.bind((0,y.Z)(r)),r.renderModifiers=r.renderModifiers.bind((0,y.Z)(r)),r.renderModifierGroup=r.renderModifierGroup.bind((0,y.Z)(r)),r.renderAddOnModifiers=r.renderAddOnModifiers.bind((0,y.Z)(r)),r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.addBXWindowObject()}},{key:"componentDidUpdate",value:function(){this.addBXWindowObject()}},{key:"addBXWindowObject",value:function(){var e=this.props.productDetails;window.bx=e&&(0,Ze.aA)(e.sku)}},{key:"renderModal",value:function(e){var t=this.props.fetchProductDetailsAction;return e&&l.createElement(T.Z,{teaserCopy:e.teaserCopy,teaserIcon:e.teaserIcon,salesTiers:e.salesTiers,popUpCopy:e.copy,fetchProductDetails:t,header:e.header,footnote:e.footnote,asset:e.assets&&e.assets[0],links:e.links})}},{key:"renderCheckbox",value:function(e,t){return l.createElement("div",{className:"pdp-options-checkbox-wrapper"},l.createElement("div",{className:"pdp-options-checkbox ".concat(e.className?"checkbox-".concat(e.className):""," ").concat(e.active?"active":""),onClick:t},l.createElement("input",{type:"checkbox",name:e.value,"aria-label":e.description,defaultChecked:e.active,className:"pdp-options-checkbox-input"}),l.createElement("span",{className:"pdp-options-checkbox-label"},e.description)," ",e.priceAdjust&&l.createElement("span",{className:"pdp-options-checkbox-price"},"+ $",e.priceAdjust)),e.modals&&this.renderModal(e.modals[0]))}},{key:"renderPickListModifier",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox",o=e.options,i=void 0===o?[]:o,a=e.slug,s=e.title;return l.createElement("div",{key:t,className:"pdp-options ".concat(a||"")},l.createElement("div",{className:"pdp-options-header ".concat(a||"")},l.createElement("div",{className:"pdp-options-header-title"},s)),l.createElement("div",{key:t,className:"pdp-options-wrapper addOns"},i.map((function(t,o){return l.createElement("div",{key:o,className:"pdp-options-".concat(r," ").concat(r,"-").concat(t.className," ").concat(t.selected?"active":"")},n.renderCheckbox(t,n.props.toggleModifierOptionAction.bind(n,{modifier:e,option:t})))}))))}},{key:"renderListModifier",value:function(e,t){return l.createElement(Ve.Z,(0,Le.Z)({},this.props,{modifier:e,key:t}))}},{key:"renderAddToCartModifier",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox",o=e.options,i=void 0===o?[]:o,a=e.slug,s=void 0===a?"":a,c=e.title,u=this.props.productDetails.relatedProducts,d=void 0===u?[]:u;return i.length>0&&l.createElement("div",{key:t,className:"pdp-options ".concat(s)},l.createElement("div",{className:"pdp-options-header ".concat(s)},c),l.createElement("div",{key:t,className:"pdp-options-wrapper addOns"},i.filter((function(e){var t=e.value.substring(0,e.value.lastIndexOf("_"));return d.some((function(n){return n.sku.includes(t||e.value)}))||"NONE"===e.value})).map((function(t,o){return l.createElement("div",{key:o,className:"pdp-options-".concat(r," ").concat(r,"-").concat(t.className," ").concat(t.selected?"active":"")},n.renderCheckbox(t,n.props.toggleModifierOptionAction.bind(n,{modifier:e,option:t})))}))))}},{key:"renderAddOnModifiers",value:function(e,t){var n=this,r=e.options,o=e.requiredActiveModifierOptions,i=e.activeStateProp,a=this.props,s=a.addOnModifiers,c=a.selectedModifierOptions,u=_e()(i);return(null==o?void 0:o.every((function(e){return c.some((function(t){return t.value===e.value}))})))?l.createElement("div",{key:t,className:"pdp-options-wrapper addon-selector"},r.map((function(t){var r=t.value,o=t.selected||s[u]===r||!s[u]&&r===n.props[u];return l.createElement("div",{key:r,className:Z()("pdp-options-addon-selector",{active:o}),onClick:n.props.toggleModifierOptionAction.bind(n,{modifier:e,option:t})},l.createElement("span",{className:"color-".concat(r)}),l.createElement("span",null,t.description))}))):null}},{key:"renderModifiers",value:function(e){var t=this;return e.map((function(e,n){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),o=r.modifierStyle||r.type||r.modifierOperation;"AddToCart"!==o&&"AttachAddonItem"!==o||"headboard-add-on"!==r.slug?"AddToCartModifier"!==o&&"UpdateAddonItemVariant"!==o||"headboard-color"!==r.slug||(o="ColorPicker"):(o="List",r.type=o);var i={modifier:e,key:n,selectedModifierOptions:t.props.selectedModifierOptions,disabled:t.props.isProductDataPending,fetchProductDetailsAction:t.props.fetchProductDetailsAction,toggleModifierOptionAction:t.props.toggleModifierOptionAction,withRedirect:t.props.withRedirect,productDetails:t.props.productDetails};switch(o){case"Icons":return l.createElement(Ge,i);case"Buttons":return l.createElement(Xe,i);case"RadioDials":return l.createElement(et,i);case"Checkbox":return l.createElement(nt,i);case"List":case"ColorPicker":return t.renderListModifier(r,n);case"PickList":return t.renderPickListModifier(r,n);case"AddToCart":return t.renderAddToCartModifier(r,n);case"AddToCartModifier":return t.renderAddOnModifiers(r,n);default:return null}}))}},{key:"renderModifierGroup",value:function(e){var t=(0,m.Z)(e,2),n=t[0],r=t[1];return r.length>1?l.createElement("div",{className:"pdp-options-group ".concat(n.toLowerCase()),"aria-label":n,key:n},l.createElement("div",{className:"pdp-options-group__header"},n),this.renderModifiers(r)):this.renderModifiers(r)}},{key:"render",value:function(){var e=this.props.productModifiers,t=We()(e,"title");return Object.entries(t).map(this.renderModifierGroup)}}]),n}(l.Component),at={fetchProductDetailsAction:M.g3,setAddOnModifiersAction:M.oI,toggleModifierOptionAction:M.XV};const st=(0,b.$j)((function(e){return{productDetails:(0,h.KL)(e),productModifiers:(0,h.Qp)(e),activeFurnitureType:(0,h.k)(e,"furnitureType"),activeColor:(0,h.k)(e,"color"),activeArms:(0,h.k)(e,"arms"),activeSeat:(0,h.k)(e,"size"),activeLegs:(0,h.k)(e,"legs"),activeLegStyle:(0,h.k)(e,"legStyle"),activeCushionColor:(0,h.k)(e,"cushionColor"),activeMaterial:(0,h.k)(e,"material"),activeTableFinish:(0,h._$)(e),addOnModifiers:(0,h.c5)(e),isProductDataPending:(0,h.xx)(e),selectedAddons:(0,h.xg)(e),selectedModifierOptions:(0,h.qs)(e),queryParams:(0,R.vl)(e)}}),at)(it);var ct,lt,ut;function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var pt=function(e){return e&&l.createElement(w.rU,{to:"".concat(e.destinationPage&&e.destinationPage.url).concat(e.anchor||"")},e.text)},ft=function(e){(0,a.Z)(n,e);var t=dt(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,g.Z)((0,y.Z)(r),"components",{RestockNotifications:De}),r.updateProductPreview=r.updateProductPreview.bind((0,y.Z)(r)),r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props,t=e.productDetails,n=e.userDetails.email,r=void 0===n?"":n;try{P.Z.enqueue({method:"item",params:{event:"Product Viewed",item:t,label:"Product Page Viewed",email:r},location:P.Z.getLocation()})}catch(e){}var o=this.props,i=o.affirmInjected,a=o.injectScriptAction;i?(0,Ze.l5)():a("affirm")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.currentPrice,r=t.affirmInjected;(n!==e.currentPrice||r&&r!==e.affirmInjected)&&(0,Ze.l5)()}},{key:"componentWillUnmount",value:function(){this.props.setDisplayProductPreviewAction(!1),this.props.setSelectedModifiersAction({}),this.props.setLastModifierSelectionAction({}),this.props.setSelectedQtyAction(1),this.props.setAddOnModifiersAction({})}},{key:"updateProductPreview",value:function(e){this.props.setDisplayProductPreviewAction(e)}},{key:"renderAffirmButton",value:function(){var e=this.props.productDetails.pricing,t=void 0===e?{}:e,n=t.salePrice&&t.salePrice.inCents||t.price.inCents;return n&&l.createElement("p",{className:"affirm-as-low-as","data-page-type":"product","data-affirm-type":"text","data-amount":n})}},{key:"renderRestockNotifcationModal",value:function(){var e=this.props,t=e.windowWidth,n=e.restockLink,r=(0,m.Z)(n.components,1)[0],o=r.type,i=r.modals;if(this.components[o]){var a=this.components[o];return l.createElement(a,{productDetails:this.props.productDetails,link:n,mobile:t<920,modals:i})}return null}},{key:"renderAddToCart",value:function(){var e=this.props,t=e.productDetails,n=e.shippingEstimates,r=e.restockLink,o=e.productRestockButton,i=null==n?void 0:n[null==t?void 0:t.sku];return l.createElement("div",{className:"pdp-details-add-to-cart"},lt||(lt=l.createElement(G,{showQuantitySelector:!0})),l.createElement("div",{className:"pdp-details-info"},i&&!o&&l.createElement(Ie.Z,{shippingEstimate:i})),r&&l.createElement("div",{className:"pdp-details-info restock"},this.renderRestockNotifcationModal()),this.renderAffirmButton())}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.breadcrumbs,i=r.isProductDataPending,a=r.automaticallyAppliedPromotion,s=r.productName,c=r.productDetails,u=r.promotions,d=r.currentPrice,p=r.originalPrice;return l.createElement(k.h,{onEnter:function(){return n.updateProductPreview(!1)},onLeave:function(){return n.updateProductPreview(!0)}},l.createElement("section",{className:"pdp-atf"},function(e){return l.createElement("p",{className:"pdp-breadcrumbs"},pt(e.productPath),e.collectionPath?" ".concat(ct||(ct=l.createElement("i",{className:"icon icon-arrow-right"}))," ").concat(pt(e.collectionPath)):"")}(o),l.createElement(xe,{hasSaleBadge:Boolean(a)}),l.createElement(Se.Z,{productName:s,productDetails:c}),l.createElement("section",{className:Z()("pdp-details","".concat(i?"pending":""),{sleeper:null===(e=this.props.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes("sleeper")})},l.createElement(Ae.Z,{automaticallyAppliedPromotion:a,productDetails:c,promotions:u,currentPrice:d,originalPrice:p}),ut||(ut=l.createElement(st,null)),this.renderAddToCart())))}}]),n}(l.Component);ft.defaultProps={currentPrice:"$0"};var ht={setSelectedModifiersAction:M.u7,setLastModifierSelectionAction:M.e8,setSelectedQtyAction:M.hd,setAddOnModifiersAction:M.oI,setDisplayProductPreviewAction:C.T1,injectScriptAction:C.Lu};const vt=(0,b.$j)((function(e){return{productDetails:(0,h.KL)(e),isProductDataPending:(0,h.xx)(e),productRestockButton:(0,h.VR)(e),promotions:(0,h.nM)(e),currentPrice:(0,h.e9)(e),originalPrice:(0,h.Zs)(e),affirmInjected:(0,O.xU)(e).includes("affirm"),breadcrumbs:(0,h.Oy)(e),userDetails:(0,f.M_)(e),windowWidth:(0,O.fM)(e),location:(0,R.k$)(e),activeShippingMessage:(0,h.$z)(e),shippingEstimates:(0,h.fn)(e),restockLink:(0,h.qK)(e),productName:(0,h.em)(e),automaticallyAppliedPromotion:(0,v.hG)(e)}}),ht)(ft);var mt,yt,gt=n("gcPq");function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var bt=function(e){(0,a.Z)(n,e);var t=kt(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e,t=this.props,n=t.components,r=t.userDetails,o=t.productDetails;return(0,Pe.hg)(this.props)?mt||(mt=l.createElement(u.Z,null)):null!==(e=this.props.product)&&void 0!==e&&e.sku?l.createElement("div",{className:"pdp"},yt||(yt=l.createElement(vt,null)),l.createElement("section",{className:"pdp-btf"},l.createElement(p.Z,{components:n,importedComponents:gt,history:this.props.history,location:this.props.location,userDetails:r,productDetails:o,tieredCoupon:this.props.tieredCoupon}))):l.createElement("div",{className:"homepage"},l.createElement(p.Z,{components:n,importedComponents:gt,history:this.props.history,location:this.props.location,tieredCoupon:this.props.tieredCoupon}))}}]),n}(l.Component);const wt=(0,d.OG)((function(e){return{tieredCoupon:(0,v.T4)(e),productDetails:(0,h.KL)(e),userDetails:(0,f.M_)(e)}}),null)(bt)},sGs7:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var r=n("37Uq");n("ma9I");function o(){var e=this.props,t=e.disabled,n=e.productDetails,o=void 0===n?{}:n,i=e.checkedInventory,a=e.soldOut,s=e.source,c=e.addToCartAction,l=e.selectedAddons,u=void 0===l?[]:l,d=e.selectedQty,p=e.callback,f=e.selectedModifiersList,h=o&&o.id&&i&&!a,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(e.optionValues)?e.optionValues:[];return[].concat((0,r.Z)(n),(0,r.Z)(Array.isArray(t)?t:[]))}(o,f);h&&!t&&(c(o,v,d,s,u,!1,d,f),p&&p())}},pked:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});n("07d7"),n("SuFq");var r=n("+9dH"),o=n("k6Di"),i=n("79Ja"),a=n("5hh5"),s=n("UHbJ"),c=n("udpn"),l=(n("pNMO"),n("4Brf"),n("q1tI")),u=n("TSYQ"),d=n.n(u),p=n("gdAF");n("OWMA");function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var h=function(e){(0,a.Z)(n,e);var t=f(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.asset,n=e.active,o=e.backgroundColor,i=e.borderColor,a=e.description,s=e.hasBorder,c=e.onClick,u=e.value;return l.createElement("div",(0,r.Z)({"aria-label":a,className:d()(u,"color-picker-color",{active:n,"has-border":s})},i&&{style:{border:"0.0625rem solid ".concat(i)}},o&&{style:{background:o}},{onClick:function(){return c(u)},title:a,role:"button"}),t?l.createElement(p.Z,{asset:t}):null)}}]),n}(l.Component);h.defaultProps={asset:null,description:"",hasBorder:!1,onClick:function(){},title:""}},"6sUC":(e,t,n)=>{var r=n("hh1v"),o=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&o(e)===e}},i6QF:(e,t,n)=>{n("I+eb")({target:"Number",stat:!0},{isInteger:n("6sUC")})},aAZC:(e,t,n)=>{var r=n("sgoq")((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}));e.exports=r}}]);